<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./js/jquery-3.4.1.js"></script>
</head>
<body>

    <table>
        <thead>
            <th>编号</th>
            <th>职位</th>
            <th>姓名</th>
        </thead>
        <tbody class="pe">


        </tbody>

    </table>
    <script>
        let promise1 = new Promise(function (resolve,reject) {
            $.get("./data/data1.json",function(res) {
                resolve(res);
            })
        })
        let promise2 = new Promise(function (resolve,reject) {
            $.get("./data/data2.json",function(res) {
                resolve(res);
            })
        })
        let peop = [];
       
        Promise.all([promise1,promise2]).then(function (res) {
            console.log(res);
            for(let i = 0;i<res[0].data.length;i++){
                for(let j = 0 ;j<res[1].data.length;j++){
                    if(res[0].data[i].jrid == res[1].data[j].jrid){
                        let temp = {};
                        temp.jrid = res[0].data[i].jrid;
                        temp.levelname = res[0].data[i].levelname;
                        temp.userName = res[1].data[i].userName;
                        peop.push(temp);
                    }
                }
            }
            let str = "";
            console.log(peop);
            for(let i = 0;i<peop.length;i++){
                 str += "<tr><td>"+peop[i].jrid+"</td><td>"+peop[i].levelname+"</td><td>"+peop[i].userName+"</td></tr>";
            }
            console.log(str);
            let ope = document.querySelector(".pe");
            ope.innerHTML = str;
        })


    </script>
</body>
</html>